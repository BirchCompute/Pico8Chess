pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
function _init()
	palt(0b0000000000010000)
	--set input delay
	poke(0x5f5c,5)
	poke(0x5f5f,1)
end

function _update()
	grabber()
	check★()
end

function _draw()
	cls()
	draw▒()
	drawselected()
	draw◆()
end

--▒ b board
--◆ p player cursor
--★ s movement
-->8
rb=4
nb=6
bb=8
qb=10
kb=12
pb=14

rw=36
nw=38
bw=40
qw=42
kw=44
pw=46

▒={
{rw,nw,bw,qw,kw,bw,nw,rw},
{pw,pw,pw,pw,pw,pw,pw,pw},
{0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0},
{pb,pb,pb,pb,pb,pb,pb,pb},
{rb,nb,bb,qb,kb,bb,nb,rb}
}


function draw▒()
	map()
	i=1
	for row in all(▒) do
		j=1
		for tile in all(row) do
			spr(tile,
							(j-1)*16,(i-1)*16,
							2,2)
			j+=1
		end
		i+=1
	end
end

◆={x=1,y=1}
function draw◆()
	spr(32,
				(◆.x-1)*16,
				(◆.y-1)*16,
				2,2)
end
-->8
function check★()
	if btnp(0) then 
		◆.x= max(1,◆.x-1)
	end
	if btnp(1) then 
		◆.x = min(8,◆.x+1)
	end
	if btnp(2) then 
		◆.y= max(1,◆.y-1)
	end
	if btnp(3) then 
		◆.y = min(8,◆.y+1)
	end
end

function drawselected()
	if selected.is==true then
		spr(64,
		(selected.x-1)*16,
		(selected.y-1)*16,
		2,2)
	end
end
-->8
selected = {is=false,x=0,y=0}

function grabber()
	if (btnp(5)) selected.is=false
	if btnp(4) then
		if selected.is then
			selected.is=false
			local piece=▒[selected.y][selected.x]
			▒[◆.y][◆.x]=0
			▒[selected.y][selected.x]=0
			▒[◆.y][◆.x]=piece
		else 
			selected = {is=true,
														x=◆.x,y=◆.y}
		end
	end
end
__gfx__
bbbbbbbbbbbbbbbbddddddddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbb7b7777b7bbbbbbbbbb77bbbbbbbbbbbbbbb77bbbbbbbbbbb77b77b77bbbbbbbbbbb77bbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbb7b7777b7bbbbbbbbb7777bbbbbbbbbbbbb7777bbbbbbbbbb77777777bbbbbbbbbb7777bbbbbbbbbbbb7777bbbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbb77777777bbbbbbbb77777777bbbbbbbbb777777bbbbbbbb7777777777bbbbbbbbbb77bbbbbbbbbbbb777777bbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbb77777777bbbbbbbb777777777bbbbbbbb7777bbbbbbbbbb7777777777bbbbbbbb777777bbbbbbbbb77777777bbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbb77777777bbbbbbbb777777777bbbbbbbb777bb7bbbbbbbb7777777777bbbbbbb77777777bbbbbbbb77777777bbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbbb777777bbbbbbbbb7777777777bbbbbbb777b77bbbbbbbbb77777777bbbbbbb7777777777bbbbbbb77777777bbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbbb777777bbbbbbbbb7777777777bbbbbbb777777bbbbbbbbbb777777bbbbbbbb7777777777bbbbbbbb777777bbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbbb777777bbbbbbbbbb7777bb777bbbbbbb777777bbbbbbbbbbb7777bbbbbbbbbb77777777bbbbbbbbbb7777bbbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbbb777777bbbbbbbbbbb777bbbbbbbbbbbb777777bbbbbbbbbbb7777bbbbbbbbbbb777777bbbbbbbbbbb7777bbbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbbb777777bbbbbbbbbbb7777bbbbbbbbbbbb7777bbbbbbbbbbbb7777bbbbbbbbbbbb7777bbbbbbbbbbbb7777bbbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbb77777777bbbbbbbb77777777bbbbbbbbb777777bbbbbbbbb77777777bbbbbbbb77777777bbbbbbbbb777777bbbbb
bbbbbbbbbbbbbbbbddddddddddddddddbbb7777777777bbbbbb7777777777bbbbbbb77777777bbbbbbb7777777777bbbbbb7777777777bbbbbbb77777777bbbb
bbbbbbbbbbbbbbbbddddddddddddddddbb777777777777bbbb777777777777bbbbb7777777777bbbbb777777777777bbbb777777777777bbbbb7777777777bbb
bbbbbbbbbbbbbbbbddddddddddddddddbb777777777777bbbb777777777777bbbbb7777777777bbbb77777777777777bb77777777777777bbbb7777777777bbb
bbbbbbbbbbbbbbbbddddddddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbb1111111111111111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbb1111111111111111bbbb5b5555b5bbbbbbbbbb55bbbbbbbbbbbbbbb55bbbbbbbbbbb55b55b55bbbbbbbbbbb55bbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbb1111111111111111bbbb5b5555b5bbbbbbbbb5555bbbbbbbbbbbbb5555bbbbbbbbbb55555555bbbbbbbbbb5555bbbbbbbbbbbb5555bbbbbb
bbbbbbbbbbbbbbbb1111111111111111bbbb55555555bbbbbbbb55555555bbbbbbbbb555555bbbbbbbb5555555555bbbbbbbbbb55bbbbbbbbbbbb555555bbbbb
bbbbbbbbbbbbbbbb1111111111111111bbbb55555555bbbbbbbb555555555bbbbbbbb5555bbbbbbbbbb5555555555bbbbbbbb555555bbbbbbbbb55555555bbbb
00bbbbbbbbbbbb001111111111111111bbbb55555555bbbbbbbb555555555bbbbbbbb555bb5bbbbbbbb5555555555bbbbbbb55555555bbbbbbbb55555555bbbb
070bbbbbbbbbb0701111111111111111bbbbb555555bbbbbbbbb5555555555bbbbbbb555b55bbbbbbbbb55555555bbbbbbb5555555555bbbbbbb55555555bbbb
0770bbbbbbbb07701111111111111111bbbbb555555bbbbbbbbb5555555555bbbbbbb555555bbbbbbbbbb555555bbbbbbbb5555555555bbbbbbbb555555bbbbb
0770bbbbbbbb07701111111111111111bbbbb555555bbbbbbbbbb5555bb555bbbbbbb555555bbbbbbbbbbb5555bbbbbbbbbb55555555bbbbbbbbbb5555bbbbbb
070bbbbbbbbbb0701111111111111111bbbbb555555bbbbbbbbbbb555bbbbbbbbbbbb555555bbbbbbbbbbb5555bbbbbbbbbbb555555bbbbbbbbbbb5555bbbbbb
00bbbbbbbbbbbb001111111111111111bbbbb555555bbbbbbbbbbb5555bbbbbbbbbbbb5555bbbbbbbbbbbb5555bbbbbbbbbbbb5555bbbbbbbbbbbb5555bbbbbb
bbbbbbbbbbbbbbbb1111111111111111bbbb55555555bbbbbbbb55555555bbbbbbbbb555555bbbbbbbbb55555555bbbbbbbb55555555bbbbbbbbb555555bbbbb
bbbbbbbbbbbbbbbb1111111111111111bbb5555555555bbbbbb5555555555bbbbbbb55555555bbbbbbb5555555555bbbbbb5555555555bbbbbbb55555555bbbb
bbbbbbbbbbbbbbbb1111111111111111bb555555555555bbbb555555555555bbbbb5555555555bbbbb555555555555bbbb555555555555bbbbb5555555555bbb
bbbbbbbbbbbbbbbb1111111111111111bb555555555555bbbb555555555555bbbbb5555555555bbbb55555555555555bb55555555555555bbbb5555555555bbb
bbbbbbbbbbbbbbbb1111111111111111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
077770bbbb0777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000bbbbbb000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
070bbbbbbbbbb0700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
070bbbbbbbbbb0700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00bbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0bbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0bbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00bbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
070bbbbbbbbbb0700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
070bbbbbbbbbb0700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000bbbbbb000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
077770bbbb0777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0203222302032223020322230203222300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1213323312133233121332331213323300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2223020322230203222302032223020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3233121332331213323312133233121300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0203222302032223020322230203222300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1213323312133233121332331213323300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2223020322230203222302032223020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3233121332331213323312133233121300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0203222302032223020322230203222300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1213323312133233121332331213323300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2223020322230203222302032223020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3233121332331213323312133233121300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0203222302032223020322230203222300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1213323312133233121332331213323300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2223020322230203222302032223020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3233121332331213323312133233121300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
